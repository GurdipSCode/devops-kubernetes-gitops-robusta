# =============================================================================
# Development Environment Robusta Values
# =============================================================================
# Lightweight configuration for development/testing
# =============================================================================

clusterName: k3s-dev

kube-prometheus-stack:
  prometheus:
    prometheusSpec:
      retention: 1d
      retentionSize: "2GB"
      
      # Remote write to dev VictoriaMetrics
      remoteWrite:
        - url: "http://192.168.1.100:8428/api/v1/write"  # Update with your Windows IP
          writeRelabelConfigs:
            - sourceLabels: [__name__]
              targetLabel: cluster
              replacement: k3s-dev
            - sourceLabels: [__name__]
              targetLabel: environment
              replacement: development
      
      # Minimal resources for dev
      resources:
        requests:
          cpu: 100m
          memory: 256Mi
        limits:
          cpu: 500m
          memory: 1Gi
      
      storageSpec:
        volumeClaimTemplate:
          spec:
            accessModes: ["ReadWriteOnce"]
            resources:
              requests:
                storage: 5Gi
  
  grafana:
    enabled: true
    adminPassword: "admin"  # OK for dev only
    persistence:
      enabled: false

# Minimal runner for dev
runner:
  resources:
    requests:
      cpu: 50m
      memory: 256Mi
    limits:
      cpu: 200m
      memory: 512Mi
  replicas: 1

# Dev sinks - just file logging and optional Slack
sinksConfig:
  - file_sink:
      name: debug_file
      file_name: "/tmp/robusta-debug.log"
  
  # Optional Slack for dev (comment out if not needed)
  # - slack_sink:
  #     name: slack_dev
  #     slack_channel: "#k3s-dev-alerts"
  #     api_key: "${SLACK_API_KEY}"

# Disable scheduled reports in dev
customPlaybooks: []
